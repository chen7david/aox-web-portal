(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c8aab95"],{1276:function(e,t,n){"use strict";var r=n("d784"),i=n("44e7"),a=n("825a"),o=n("1d80"),s=n("4840"),l=n("8aa5"),c=n("50c4"),u=n("14c3"),d=n("9263"),h=n("d039"),f=[].push,v=Math.min,p=4294967295,g=!h((function(){return!RegExp(p,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(o(this)),a=void 0===n?p:n>>>0;if(0===a)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,a);var s,l,c,u=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,g=new RegExp(e.source,h+"g");while(s=d.call(g,r)){if(l=g.lastIndex,l>v&&(u.push(r.slice(v,s.index)),s.length>1&&s.index<r.length&&f.apply(u,s.slice(1)),c=s[0].length,v=l,u.length>=a))break;g.lastIndex===s.index&&g.lastIndex++}return v===r.length?!c&&g.test("")||u.push(""):u.push(r.slice(v)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=o(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,i,n):r.call(String(i),t,n)},function(e,i){var o=n(r,e,this,i,r!==t);if(o.done)return o.value;var d=a(e),h=String(this),f=s(d,RegExp),m=d.unicode,w=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),b=new f(g?d:"^(?:"+d.source+")",w),y=void 0===i?p:i>>>0;if(0===y)return[];if(0===h.length)return null===u(b,h)?[h]:[];var x=0,_=0,k=[];while(_<h.length){b.lastIndex=g?_:0;var S,j=u(b,g?h:h.slice(_));if(null===j||(S=v(c(b.lastIndex+(g?0:_)),h.length))===x)_=l(h,_,m);else{if(k.push(h.slice(x,_)),k.length===y)return k;for(var E=1;E<=j.length-1;E++)if(k.push(j[E]),k.length===y)return k;_=x=S}}return k.push(h.slice(x)),k}]}),!g)},3835:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return s}));n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function i(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)if(n.push(o.value),t&&n.length===t)break}catch(l){i=!0,a=l}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}return n}}var a=n("06c5");function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return r(e)||i(e,t)||Object(a["a"])(e,t)||o()}},da27:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",{attrs:{"fill-height":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-row",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[n("div",{staticClass:"text-center"},[n("v-overlay",[n("v-progress-circular",{attrs:{indeterminate:"",size:"80",color:"orange"}})],1)],1)]),n("v-row",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],attrs:{justify:"space-around","fill-height":""}},e._l(e.items(),(function(t){return n("Poster",{key:t.id,attrs:{src:"http://aox.hopto.org:8000/image/w342"+t.poster_path,name:t.title,date:t.release_date,aspect:"2/3",width:e.posterWidth,to:"/movie/"+t.id}})})),1)],1)],1)],1)},i=[],a=(n("4de4"),n("caad"),n("2532"),n("96cf"),n("1da1")),o=n("e4bb"),s={name:"Movies",data:function(){return{isLoading:!1,movies:[],filter:null}},components:{Poster:o["a"]},computed:{size:function(){var e=.8*this.windowWidth,t=1200;return e<t?e:t},posterWidth:function(){return this.size<900?130:170}},methods:{load:function(e){var t=arguments,n=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=t.length>1&&void 0!==t[1]?t[1]:{},n.isLoading=!0,r.next=4,e(i);case 4:n.isLoading=!1;case 5:case"end":return r.stop()}}),r)})))()},getMovies:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=function(e,t){var n=new Date(e.release_date),r=new Date(t.release_date);return r-n},t.next=3,e.$http.get("/me");case 3:return n=t.sent,console.log({user:n}),t.next=7,e.$media.get("/movies");case 7:r=t.sent,i=r.data,e.movies=i.sort(a);case 10:case"end":return t.stop()}}),t)})))()},items:function(){var e=this;return this.filter?this.movies.filter((function(t){return t.title.toLowerCase().includes(e.filter)})):this.movies},setScreen:function(){this.windowWidth=this.$vuetify.breakpoint.width}},mounted:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.load(e.getMovies);case 2:e.$root.$on("search-movies",(function(t){e.filter=t?e.filter=t.toLowerCase():null,console.log({e:t,name:"movies"})})),e.setScreen();case 4:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){this.$root.$off("search-movies")},created:function(){window.addEventListener("resize",this.setScreen)}},l=s,c=n("2877"),u=Object(c["a"])(l,r,i,!1,null,null,null);t["default"]=u.exports},e4bb:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-hover",{attrs:{"open-delay":"10"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.hover;return[n("v-card",{staticClass:"mb-4",attrs:{"max-width":e.width,color:"rgb(0, 0, 0, 0.0)",elevation:"0"}},[n("lazy-img",{attrs:{src:e.src,width:e.width,aspect:e.aspect,spinner:e.spinner,onDone:e.onDone},scopedSlots:e._u([{key:"surface",fn:function(){return[n("v-overlay",{attrs:{absolute:"",value:r}},[n("v-btn",{attrs:{router:"",to:e.to,"x-large":"",icon:""}},[n("v-icon",[e._v("mdi-play")])],1)],1)]},proxy:!0}],null,!0)}),n("v-card-subtitle",{staticClass:"text-left pa-0"},[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[n("div",e._g(e._b({staticClass:"font-weight-medium text-truncate"},"div",i,!1),r),[e._v(" "+e._s(e.name)+" ")])]}}],null,!0)},[n("span",[e._v(e._s(e.name))])]),n("div",{staticClass:"blue-grey--text"},[e._v(e._s(e.year))])],1)],1)]}}])})},i=[],a=(n("d3b7"),n("ac1f"),n("25f0"),n("1276"),n("3835")),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-lazy",{attrs:{options:{threshold:.5},"min-height":e.height,transition:"fade-transition"},model:{value:e.isActive,callback:function(t){e.isActive=t},expression:"isActive"}},[n("v-sheet",{attrs:{width:e.width,height:e.height}},[n("v-img",{attrs:{src:e.src,height:e.height,"aspect-ratio":e.aspect},on:{error:e.errorHandler,load:e.doneHandler},scopedSlots:e._u([{key:"placeholder",fn:function(){return[n("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[e.failed?e._e():n("v-progress-circular",{attrs:{indeterminate:"",color:e.spinner||"orange"}})],1)]},proxy:!0}])},[e._t("surface")],2)],1)],1)},s=[],l={name:"lazyImg",props:{width:null,aspect:null,src:null,onError:null,onDone:null,spinner:null},data:function(){return{isActive:null,failed:!1,done:!1}},computed:{height:function(e){var t=e.aspect.split("/"),n=Object(a["a"])(t,2),r=n[0],i=n[1];return e.width/r*i}},methods:{errorHandler:function(){this.failed=!0,this.onError&&this.onError()},doneHandler:function(){this.done=!0,this.onDone&&this.onDone()}}},c=l,u=n("2877"),d=Object(u["a"])(c,o,s,!1,null,null,null),h=d.exports,f={name:"Poster",components:{"lazy-img":h},props:{src:null,to:null,width:null,name:null,date:null,aspect:null,spinner:null},computed:{year:function(){return new Date(this.date).getFullYear().toString()},height:function(){var e=this.aspect.split("/"),t=Object(a["a"])(e,2),n=t[0],r=t[1];return this.width/n*r}},methods:{onError:function(){this.imageError=!0,console.log("@image error ...")},onDone:function(){this.imageDone=!0,console.log("@image done ...")}}},v=f,p=Object(u["a"])(v,r,i,!1,null,null,null);t["a"]=p.exports}}]);
//# sourceMappingURL=chunk-6c8aab95.12e66381.js.map